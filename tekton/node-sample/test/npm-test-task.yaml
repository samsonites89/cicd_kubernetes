apiVersion: tekton.dev/v1beta1
kind: Task
metadata:
  name: run-npm-test
spec:
  resources:
    inputs:
      - name: git-source
        type: git
  steps:
    - name: echo
      image: alpine
      workingDir: /workspace/git-source/node_sample
      command: ["ls"]
    - name: npm-install
      image: node:12
      workingDir: /workspace/git-source/node_sample
      command:
        - "npm"
      args: ["install"]
    - name: npm-test
      image: node:12
      workingDir: /workspace/git-source/node_sample
      command:
        - "npm"
      args: [ "run","test" ]